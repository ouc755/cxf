<!--pages/login/login.wxml-->
<view class="login-container">
  <image class="app-logo" src="cloud://cloud1-2g5ar9yr97b49f2f.636c-cloud1-2g5ar9yr97b49f2f-1361317451/images/logo.png" mode="aspectFit"></image>
  <text class="app-name">玩具商城</text>

  <view class="login-form">
    <image class="avatar" src="{{avatarUrl || defaultAvatarUrl}}" mode="aspectFill"></image>
    <view class="user-details">
      <button 
        class="avatar-btn" 
        open-type="chooseAvatar"
        bindchooseavatar="onChooseAvatar"
      >
        选择头像
      </button>
      <input
        class="nickname-input"
        type="nickname"
        placeholder="请输入昵称"
        bindblur="onNicknameBlur"
        value="{{nickname}}"
      />
      <button
        class="login-btn"
        bindtap="handleLogin"
        loading="{{isLoggingIn}}"
        disabled="{{!avatarUrl || !nickname}}"
      >
        登录
      </button>
    </view>
  </view>
</view>